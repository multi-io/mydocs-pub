<html>
<!-- -*- html -*- -->





<head>
  <title> ./dotnet/cs/gctest.cs </title>
</head>

<body>

  <h1> <a href="../../.">.</a>/<a href="../.">dotnet</a>/<a href=".">cs</a>/gctest.cs </h1>

  <a href="gctest.cs">download original</a>

  <pre>
using System;
using System.Threading;

namespace oklischat.cstest {

    public class C: IDisposable {
        
        public void Dispose() {
            Console.WriteLine("Dispose()...");
            Dispose(true);
            GC.SuppressFinalize(this);
            Console.WriteLine("Dispose() done");
        }

        void Dispose(bool disposing) {
            Console.WriteLine("Dispose({0})",disposing);
        }

        ~C() {
            Console.WriteLine("~C()");
        }
    }

    public class GCTest {
        public static void Main(string[] args) {
            using (C c = new C()) {
                Console.WriteLine("using c...");
            }
            Console.WriteLine("using c done.");


            Console.WriteLine("collecting...");
            GC.Collect();
            Thread.Sleep(500);
            Console.WriteLine("done.");
        }
    }
}

  </pre>

  <a href="."> back to cs </a>

  <p/>

  <font size="-3">(C) 1998-2017 Olaf Klischat  &lt;olaf.klischat@gmail.com&gt; </font>

</body>

</html>
