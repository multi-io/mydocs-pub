println "Good Afternoon." 

gradle.taskGraph.whenReady {taskGraph ->
    println "taskGraph ready: $taskGraph"
}

task hello {
    doLast {
        println "hello last $this"
    }

    doFirst {
        println "hello first $this"
    }

    println "hello config $this"
}

hello.a = 42

hello << { println "hello more stuff" }


def t_prev = null
(0..5).each { i->
    def t = task "rep$i" {
        println "task $i config"
        doLast {
            println "task $i last"
        }
    }
    if (t_prev != null) {
        t.dependsOn t_prev
    }
    t_prev = t
}

rep3.dependsOn(hello)


task test1 << {
    println "deps of rep3:"
    rep3.dependsOn.each { dep ->
        println "" + dep + ": " + dep.class 
    }
}
