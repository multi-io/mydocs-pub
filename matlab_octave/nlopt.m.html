<html>
<!-- -*- html -*- -->





<head>
  <title> ./matlab_octave/nlopt.m </title>
</head>

<body>

  <h1> <a href="../.">.</a>/<a href=".">matlab_octave</a>/nlopt.m </h1>

  <a href="nlopt.m">download original</a>

  <pre>
#!/usr/bin/octave --persist
# -*- octave -*-

# generic (non-linear) numerical optimization of a function of 2 parameters

1;

global M = [3;2]

function phi = phi(x)
  global M
  phi = -exp(-sum((x - M).^2));
endfunction


##plot it -- incredibly convoluted

# nested function -- only works when copied &amp; pasted into the command line???
function plotR2_R = plotR2_R(func, domain)
  #ezmesh(funcmesh, [0 5])  #error
  #ezmesh('funcmesh', [0 5])  #error
  #ezmesh(@funcmesh, domain) #error ("handles to nested functions are not yet supported")
  ezmesh(@(x,y) funcmesh(func, x, y), domain)
endfunction

# private to plotR2_R -- nested only works on command line??
function funcmesh = funcmesh(func, xs, ys)
  funcmesh = ones([size(xs,1), size(xs,2)]);
  for m = 1:size(xs,1)
    for n = 1:size(xs,2)
      funcmesh(m,n) = func([xs(m,n); ys(m,n)]);
    endfor
  endfor
endfunction


plotR2_R(@phi, [0 5 0 5]);

xmin = sqp([1;1], @phi)

hold on

plot3([xmin(1),xmin(1)], [xmin(2),xmin(2)], [-2,1]);

  </pre>

  <a href="."> back to matlab_octave </a>

  <p/>

  <font size="-3">(C) 1998-2016 Olaf Klischat  &lt;olaf.klischat@gmail.com&gt; </font>

</body>

</html>
